

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Gas Transfer &mdash; Environmental Engineering Laboratory Research Textbook  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Nutrient Removal with Sequencing Batch Reactors" href="../Nutrient_Removal/Nutrient_Removal.html" />
    <link rel="prev" title="Adsorption" href="../Adsorption/Adsorption.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Environmental Engineering Laboratory Research Textbook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Title and Preface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Title_and_Preface/Title_and_Preface.html">Laboratory Research in Environmental Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Title_and_Preface/Title_and_Preface.html#laboratory-manual">Laboratory Manual</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 1: Laboratory Safety</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Laboratory_Safety/Laboratory_Safety.html">Laboratory Safety</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 2: Laboratory Measurements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Laboratory_Measurements/Laboratory_Measurements.html">Laboratory Measurements and Procedures</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 3: Acid Rain</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Acid_Rain/Acid_Rain.html">Acid Precipitation and Remediation of Acid Lakes</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 4: Acid Neutralizing Capacity</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Acid_Neutralizing_Capacity/Acid_Neutralizing_Capacity.html">Acid Neutralizing Capacity</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 5: Reactor Characteristics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Reactor_Characteristics/Reactor_Characteristics.html">Reactor Characteristics</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 6: Adsorption</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Adsorption/Adsorption.html">Adsorption</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 7: Gas Transfer</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Gas Transfer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#theory">Theory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gas-transfer-coefficient">Gas Transfer Coefficient</a></li>
<li class="toctree-l3"><a class="reference internal" href="#oxygen-transfer-efficiency">Oxygen Transfer Efficiency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deoxygenation">Deoxygenation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#experimental-objectives">Experimental Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dissolved-oxygen-probes">Dissolved Oxygen Probes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Theory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#experimental-methods">Experimental Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initial-setup">Initial Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connect-to-the-shared-source-pressure-sensor">Connect to the shared source pressure sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-for-air-leaks">Check for air leaks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calibrate-the-air-flow-controller">Calibrate the air flow controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-the-air-flow-controller">Test the air flow controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-the-membrane-cap-on-the-dissolved-oxygen-probe">Install the Membrane Cap on the Dissolved Oxygen Probe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calibrate-the-dissolved-oxygen-probe">Calibrate the Dissolved Oxygen Probe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#measure-the-gas-transfer">Measure the Gas Transfer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lab-explorations">Lab Explorations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prelab-questions">Prelab Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-analysis">Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lab-prep-notes">Lab Prep Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setup">Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#clean-up">Clean up</a></li>
<li class="toctree-l2"><a class="reference internal" href="#airflow-control">Airflow Control</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Chapter 8: Nutrient Removal</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Nutrient_Removal/Nutrient_Removal.html">Nutrient Removal with Sequencing Batch Reactors</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 9: ProCoDA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ProCoDA/ProCoDA.html">ProCoDA: Process Control and Data Acquisition</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Environmental Engineering Laboratory Research Textbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Gas Transfer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Gas_Transfer/Gas_Transfer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gas-transfer">
<span id="title-gas-transfer"></span><h1>Gas Transfer<a class="headerlink" href="#gas-transfer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<span id="heading-gas-transfer-introduction"></span><h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Exchange of gases between aqueous and gaseous phases is an essential element of many environmental processes. Wastewater treatment plants require enhanced transfer of oxygen into activated sludge tanks to maintain aerobic degradation. Water treatment plants require gas transfer to dissolve chlorine gas or ozone. Gas transfer can also be used to remove unwanted volatile chemicals such as carbon tetrachloride, tetrachloroethylene, trichloroethylene, chloroform, bromodichloromethane, and bromoform from water (Zander et al., 1989). Exchange of a dissolved compound with the atmosphere is controlled by the extent of mixing in the aqueous and gaseous phase, the surface area of the interface, the concentration of the compound in the two phases, and the equilibrium distribution of the compound. Technologies that have been developed to enhance gas transfer include: aeration diffusers, packed-tower air stripping, and membrane stripping. Each of these technologies creates a high interface surface area to enhance gas transfer.</p>
</div>
<div class="section" id="theory">
<span id="heading-gas-transfer-theory"></span><h2>Theory<a class="headerlink" href="#theory" title="Permalink to this headline">¶</a></h2>
<p>Oxygen transfer is important in many environmental systems. Oxygen transfer is controlled by the partial pressure of oxygen in the atmosphere (0.21 atm) and the corresponding equilibrium concentration in water (approximately 10 mg/L). According to Henry’s Law, the equilibrium concentration of oxygen in water is proportional to the partial pressure of oxygen in the atmosphere.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aguaclara.core.units</span> <span class="k">import</span> <span class="n">unit_registry</span> <span class="k">as</span> <span class="n">u</span>
<span class="kn">import</span> <span class="nn">aguaclara</span> <span class="k">as</span> <span class="nn">ac</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">P_air</span> <span class="o">=</span> <span class="mf">101.3</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">kPa</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span>
<span class="n">C_Oxygen</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">O2_sat</span><span class="p">(</span><span class="n">P_air</span><span class="p">,</span><span class="n">temp</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="n">C_Oxygen</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Temperature (degrees Celsius)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Oxygen concentration (mg/L)&#39;</span><span class="p">)</span>
<span class="c1">#fig.savefig(&#39;Gas_Transfer/Images/Oxygen_vs_T&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id2">
<span id="figure-oxygen-vs-t"></span><a class="reference internal image-reference" href="../_images/Oxygen_vs_T.png"><img alt="oxygen vs T" src="../_images/Oxygen_vs_T.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 20 </span><span class="caption-text">Dissolved oxygen concentrations in equilibrium with the atmosphere.</span></p>
</div>
<p>Natural bodies of water may be either supersaturated or undersaturated with oxygen depending on the relative magnitude of the sources and sinks of oxygen. Algae can be a significant source of oxygen during active photosynthesis and can produce supersaturation. Algae also deplete oxygen levels during the night.</p>
<p>At high levels of supersaturation dissolved gas will form microbubbles that eventually coalesce, rise, and burst at the water surface. The bubbles provide a very efficient transfer of supersaturated dissolved gas to the gaseous phase, a process that can be observed when the partial pressure of carbon dioxide is decreased by opening a carbonated beverage. Bubble formation by supersaturated gasses also occurs in the environment when cold water in equilibrium with the atmosphere is warmed rapidly. The equilibrium dissolved oxygen concentration decreases as the water is warmed (<a class="reference internal" href="#figure-oxygen-vs-t"><span class="std std-numref">Fig. 20</span></a>).</p>
<p>Supersaturation of dissolved gases can also occur when water carrying gas bubbles from a waterfall or spillway plunges into a deep pool. The pressure increases with depth in the pool and gasses carried deep into the pool dissolve in the water. When the water eventually approaches the surface the pressure decreases and the dissolved gases come out of solution and form bubbles. Bubble formation by supersaturated gases can kill fish (similar to the bends in humans) as the bubbles form in the bloodstream.</p>
<div class="section" id="gas-transfer-coefficient">
<span id="heading-gas-transfer-coefficient"></span><h3>Gas Transfer Coefficient<a class="headerlink" href="#gas-transfer-coefficient" title="Permalink to this headline">¶</a></h3>
<p>The gas transfer rate can be modeled as the product of a driving force (the difference between the equilibrium concentration and the actual concentration) and an overall volumetric gas transfer coefficient (a function of the geometry, mixing levels of the system and the solubility of the compound). In equation form</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-first-order">
<span class="eqno">(99)<a class="headerlink" href="#equation-eq-gas-first-order" title="Permalink to this equation">¶</a></span>\[ \frac{dC}{dt} =\hat{k}_{v,l} \left(C^{*} -C\right)\]</div>
<p>where C is the dissolved gas concentration, C* is the equilibrium dissolved gas concentration, and <span class="math notranslate nohighlight">\(\hat{k}_{v,l}\)</span> is the overall volumetric gas transfer coefficient . Although <span class="math notranslate nohighlight">\(\hat{k}_{v,l}\)</span> has dimensions of 1/T, it is a function of the interface surface area (A), the liquid volume (V), the oxygen diffusion coefficient in water (D), and the thickness of the laminar boundary layer (?) through which the gas must diffuse before the much faster turbulent mixing process can disperse the dissolved gas throughout the reactor.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-0">
<span class="eqno">(100)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-0" title="Permalink to this equation">¶</a></span>\[\hat{k}_{v,l} =f(D,\delta ,A,V)\]</div>
<div class="figure align-center" id="id3">
<span id="figure-single-film-model"></span><a class="reference internal image-reference" href="../_images/Single_film_model.png"><img alt="internal figure" src="../_images/Single_film_model.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 21 </span><span class="caption-text">Single film model of interphase mass transfer of oxygen.</span></p>
</div>
<p>The overall volumetric gas transfer coefficient is system specific and thus must be evaluated separately for each system of interest (Weber and Digiano, 1996).</p>
<p>A schematic of the gas transfer process is shown in <a class="reference internal" href="#figure-single-film-model"><span class="std std-numref">Fig. 21</span></a>. Fickian diffusion controls the gas transfer in the laminar boundary layer. The oxygen concentration in the bulk of the fluid is assumed to be homogeneous due to mixing and the oxygen concentration above the liquid is assumed to be that of the atmosphere.</p>
<p>The gas transfer coefficient will increase with the interface area and the diffusion coefficient and will decrease with the reactor volume and the thickness of the boundary layer. The functional form of the relationship is given by</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-1">
<span class="eqno">(101)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-1" title="Permalink to this equation">¶</a></span>\[\hat{k}_{v,l} =\frac{AD}{V\delta }\]</div>
<p>Equation <a class="reference internal" href="#equation-eq-gas-first-order">(99)</a> can be integrated with appropriate initial conditions to obtain the concentration of oxygen as a function of time. However, care must be taken to ensure that the overall volumetric gas transfer coefficient is not a function of the dissolved oxygen concentration. This dependency can occur where air is pumped through diffusers on the bottom of activated sludge tanks. Rising air bubbles are significantly depleted of oxygen as they rise through the activated sludge tank and the extent of oxygen depletion is a function of the concentration of oxygen in the activated sludge. Integrating equation <a class="reference internal" href="#equation-eq-gas-first-order">(99)</a> with initial conditions of C = C0 at t = t0</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-2">
<span class="eqno">(102)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-2" title="Permalink to this equation">¶</a></span>\[\int _{C_{0} }^{C}\frac{dC}{C^{*} -C}  =\int _{t_{0} }^{t}\hat{k}_{v,l} dt\]</div>
<div class="math notranslate nohighlight" id="equation-eq-gas-linearized">
<span class="eqno">(103)<a class="headerlink" href="#equation-eq-gas-linearized" title="Permalink to this equation">¶</a></span>\[ \ln \frac{C^{*} -C}{C^{*} -C_{0} } =-\hat{k}_{v,l} (t-t_{0} )\]</div>
<p>Equation <a class="reference internal" href="#equation-eq-gas-linearized">(103)</a> can be evaluated using linear regression so that <span class="math notranslate nohighlight">\(\hat{k}_{v,l}\)</span> is the slope of the line.</p>
<p>The simple gas transfer model given in equation <a class="reference internal" href="#equation-eq-gas-linearized">(103)</a> is appropriate when the gas transfer coefficient is independent of the dissolved gas concentration. This requirement can be met in systems where the gas bubbles do not change concentration significantly as they rise through the water column. This condition is met when the water column is shallow, the bubbles have large diameters, or the difference between the concentration of dissolved gas and the equilibrium concentration is small.</p>
</div>
<div class="section" id="oxygen-transfer-efficiency">
<span id="heading-gas-transfer-oxygen-transfer-efficiency"></span><h3>Oxygen Transfer Efficiency<a class="headerlink" href="#oxygen-transfer-efficiency" title="Permalink to this headline">¶</a></h3>
<p>An important parameter in the design of aeration systems for the activated sludge process is the energy cost of compressing air to be pumped though diffusers. The pumping costs are a function of the pressure and the airflow rate. The pressure is a function of the hydrostatic pressure (based on the depth of submergence of the diffusers) and the head loss in the pipes and through the diffuser. The required airflow rate is a function of the BOD of the wastewater and the efficiency with which oxygen is transferred from the gas phase to the liquid phase. This oxygen transfer efficiency (OTE) is a function of the type of diffuser, the diffuser depth of submergence, as well as temperature and ionic strength of the activated sludge. Oxygen transfer is a remarkably inefficient process; only a small fraction of the oxygen carried by the rising bubbles diffuses into the activated sludge. The most efficient systems use membrane diffusers and achieve an OTE of approximately 10%.</p>
<p>The manufacturer typically provides oxygen transfer efficiency for a specific diffuser. In this laboratory we will measure oxygen transfer efficiency for the aeration stone that we will be using in an activated sludge tank. The molar transfer rate of oxygen through the diffuser is</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-air-supply">
<span class="eqno">(104)<a class="headerlink" href="#equation-eq-gas-air-supply" title="Permalink to this equation">¶</a></span>\[ \dot{n}_{gas\; o_{2} } =\frac{Q_{air} P_{air} f_{O_{2} } }{RT}\]</div>
<dl class="docutils">
<dt>where</dt>
<dd><div class="first last line-block">
<div class="line"><span class="math notranslate nohighlight">\(f_{O_2}\)</span> is the molar fraction of air that is oxygen (0.21),</div>
<div class="line"><span class="math notranslate nohighlight">\(Q_{air}\)</span> is the volumetric flow rate of air into the diffuser,</div>
<div class="line"><span class="math notranslate nohighlight">\(P_{air}\)</span> is the air pressure immediately upstream from the diffuser,</div>
<div class="line"><span class="math notranslate nohighlight">\(R\)</span> is the universal gas constant and</div>
<div class="line"><span class="math notranslate nohighlight">\(T\)</span> is absolute temperature.</div>
</div>
</dd>
</dl>
<p>If the airflow rate is already given with units of moles/s then the molar transfer rate of oxygen can be obtained by multiplying by the molar fraction of air that is oxygen.</p>
<p>The molar rate of dissolution into the aqueous phase is</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-3">
<span class="eqno">(105)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-3" title="Permalink to this equation">¶</a></span>\[\dot{n}_{aq\; o_{2} } =\frac{\rlap{-} V}{MW_{O_{2} } } \frac{dC}{dt}\]</div>
<dl class="docutils">
<dt>where</dt>
<dd><div class="first last line-block">
<div class="line"><span class="math notranslate nohighlight">\(MW_{O_2}\)</span> is the molecular weight of oxygen,</div>
<div class="line"><span class="math notranslate nohighlight">\(\rlap{-} V\)</span> is the reactor volume, and</div>
<div class="line"><span class="math notranslate nohighlight">\(\frac{dC}{dt}\)</span> is the change in aqueous oxygen concentration with time.</div>
</div>
</dd>
</dl>
<p>The rate of change of oxygen concentration is a function of the dissolved oxygen concentration and is a maximum when the dissolved oxygen concentration is zero. Oxygen transfer efficiency could be measured for any dissolved oxygen concentration. A better method of analysis is to substitute the right side of equation <a class="reference internal" href="#equation-eq-gas-first-order">(99)</a> for <span class="math notranslate nohighlight">\(\frac{dC}{dt}\)</span> .</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-o2-dissolved">
<span class="eqno">(106)<a class="headerlink" href="#equation-eq-gas-o2-dissolved" title="Permalink to this equation">¶</a></span>\[ \dot{n}_{aq\; o_{2} } =\frac{V\hat{k}_{v,l} \left(C^{*} -C\right)}{MW_{O_{2} } }\]</div>
<p>The oxygen transfer efficiency is the ratio of equation <a class="reference internal" href="#equation-eq-gas-o2-dissolved">(106)</a> to equation <a class="reference internal" href="#equation-eq-gas-air-supply">(104)</a>.</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-ote">
<span class="eqno">(107)<a class="headerlink" href="#equation-eq-gas-ote" title="Permalink to this equation">¶</a></span>\[ OTE=\frac{\hat{k}_{v,l} \left(C^{*} -C\right)VRT}{MW_{O_{2} } Q_{air} P_{air} f_{O_{2} } }\]</div>
<p>Measurement of OTE using equation <a class="reference internal" href="#equation-eq-gas-ote">(107)</a> requires that the gas transfer coefficient, air flow rate, air pressure, and the air temperature be measured. (<span class="math notranslate nohighlight">\(P_{air}\)</span> and <span class="math notranslate nohighlight">\(Q_{air}\)</span> have to correlate and in this experiment the best combination is atmospheric pressure and the flow rate given by the pump.)</p>
<p>If the molar airflow rate is controlled then OTE is based on the ratio of equation <a class="reference internal" href="#equation-eq-gas-o2-dissolved">(106)</a> to the molar transfer rate of supplied oxygen.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-4">
<span class="eqno">(108)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-4" title="Permalink to this equation">¶</a></span>\[OTE=\frac{\dot{n}_{aq\; o_{2} } }{f_{O_{2} } \dot{n}_{air} } =\frac{V\hat{k}_{v,l} \left(C^{*} -C\right)}{f_{O_{2} } \dot{n}_{air} MW_{O_{2} } }\]</div>
</div>
<div class="section" id="deoxygenation">
<span id="heading-gas-transfer-deoxygenation"></span><h3>Deoxygenation<a class="headerlink" href="#deoxygenation" title="Permalink to this headline">¶</a></h3>
<p>To measure the reaeration rate it is necessary to first remove the oxygen from the reactor. This can be accomplished by bubbling the solution with a gas that contains no oxygen. Nitrogen gas is typically used to remove oxygen from laboratory reactors. Alternately, a reductant can be used. Sulfite is a strong reductant that will reduce dissolved oxygen in the presence of a catalyst.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-5">
<span class="eqno">(109)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-5" title="Permalink to this equation">¶</a></span>\[{O}_{{2}} +{2SO}_{{3}}^{-{2}} \stackrel{{cobalt}}{\longrightarrow}{2SO}_{{4}}^{-{2}}\]</div>
<p>The mass of sodium sulfite required to deoxygenate 1 mg of oxygen is calculated from the stoichiometry of equation <a class="reference internal" href="#equation-eq-gas-first-order">(99)</a>.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-6">
<span class="eqno">(110)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-6" title="Permalink to this equation">¶</a></span>\[\frac{{mole\; O}_{{2}} }{{32000\; mg\; O}_{{2}} } \cdot \frac{{2\; mole\; Na}_{{2}} {SO}_{{3}} }{{mole\; O}_{{2}} } \cdot \frac{{126,000\; mg\; Na}_{{2}} {SO}_{{3}} }{{mole\; Na}_{{2}} {SO}_{{3}} } =\frac{{\; 7.875\; mg\; Na}_{{2}} {SO}_{{3}} }{{mg\; O}_{{2}} }\]</div>
<p>If complete deoxygenation is desired a 10% excess of sulfite can be added. The sulfite will continue to react with oxygen as oxygen is transferred into the solution. The oxygen concentration can be measured with a dissolved oxygen probe or can be estimated if the temperature is known and equilibrium with the atmosphere assumed (<a class="reference internal" href="#figure-oxygen-vs-t"><span class="std std-numref">Fig. 20</span></a>).</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; importing &quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">aguaclara.core.units</span> <span class="k">import</span> <span class="n">unit_registry</span> <span class="k">as</span> <span class="n">u</span>
<span class="kn">import</span> <span class="nn">aguaclara</span> <span class="k">as</span> <span class="nn">ac</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">O2_C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span>
<span class="n">Sample_V</span> <span class="o">=</span> <span class="mi">750</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mL</span>
<span class="n">SulfiteperO2</span> <span class="o">=</span> <span class="mf">7.875</span>
<span class="n">Sulfite_Stock_C</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span>
<span class="k">def</span> <span class="nf">Sulfite_V</span><span class="p">(</span><span class="n">O2_C</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">(</span><span class="n">Sample_V</span><span class="o">*</span><span class="n">O2_C</span><span class="o">*</span><span class="n">SulfiteperO2</span><span class="o">/</span><span class="n">Sulfite_Stock_C</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">O2_C</span><span class="p">,</span><span class="n">Sulfite_V</span><span class="p">(</span><span class="n">O2_C</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Oxygen concentration (mg/L)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Sulfite stock volume (mL)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="c1">#fig.savefig(&#39;Gas_Transfer/Images/Sulfite&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id4">
<span id="figure-sulfite"></span><a class="reference internal image-reference" href="../_images/Sulfite.png"><img alt="internal figure" src="../_images/Sulfite.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 22 </span><span class="caption-text">Volume of 100 mg/mL sodium sulfite stock required to deoxygenate a 750 mL sample of water.</span></p>
</div>
</div>
</div>
<div class="section" id="experimental-objectives">
<span id="heading-gas-transfer-experimental-objectives"></span><h2>Experimental Objectives<a class="headerlink" href="#experimental-objectives" title="Permalink to this headline">¶</a></h2>
<p>The objectives of this lab are to:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Illustrate the dependence of gas transfer on gas flow rate.</li>
<li>Develop a functional relationship between gas flow rate and gas transfer.</li>
<li>Measure the oxygen transfer efficiency of a course bubble diffuser.</li>
<li>Explain the theory and use of dissolved oxygen probes.</li>
</ol>
</div></blockquote>
<p>A small reactor that meets the conditions of a constant gas transfer coefficient will be used to characterize the dependence of the gas transfer coefficient on the gas flow rate through a simple diffuser. The gas transfer coefficient is a function of the gas flow rate because the interface surface area i.e., the surface area of the air bubbles) increases as the gas flow rate increases.</p>
</div>
<div class="section" id="dissolved-oxygen-probes">
<span id="heading-gas-transfer-dissolved-oxygen-probes"></span><h2>Dissolved Oxygen Probes<a class="headerlink" href="#dissolved-oxygen-probes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Theory<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The dissolved oxygen probes make use of the fact that an applied potential of 0.8 V can reduce <span class="math notranslate nohighlight">\(O_2\)</span> to <span class="math notranslate nohighlight">\(H_2O\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-7">
<span class="eqno">(111)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-7" title="Permalink to this equation">¶</a></span>\[4 e^- + 4 H^+ + O_2 \mathrm{\to} 2 H_2O\]</div>
<p>The cell is separated from solution by a gas permeable membrane that allows <span class="math notranslate nohighlight">\(O_2\)</span> to pass through. The concentration of <span class="math notranslate nohighlight">\(O_2\)</span> in the cell is kept very low by reduction to <span class="math notranslate nohighlight">\(H_2O\)</span>. The rate at which oxygen diffuses through the gas permeable membrane is proportional to the difference in oxygen concentration across the membrane. The concentration of oxygen in the cell is <span class="math notranslate nohighlight">\(\mathrm{\approx}0\)</span> and thus the rate at which oxygen diffuses through the membrane is proportional to the oxygen concentration in the solution.</p>
<p>Oxygen is reduced to water at a silver (Ag) cathode of the probe. Oxygen reduction produces a current that is converted to a voltage that is measured by ProCoDA.</p>
</div>
</div>
<div class="section" id="experimental-methods">
<span id="heading-gas-transfer-experimental-methods"></span><h2>Experimental Methods<a class="headerlink" href="#experimental-methods" title="Permalink to this headline">¶</a></h2>
<p>The reactors are 1 L beakers that will be filled with 750 mL of water (<a class="reference internal" href="#figure-gas-schematic"><span class="std std-numref">Fig. 23</span></a>). The DO probe should be placed in a location so as to minimize the risk of air bubbles lodging on the membrane on the bottom of the probe. Groups from previous years have recommended keeping the DO probe close to the bottom of the reactor so that no air bubbles cover the DO probe. The aeration stone is connected to a source of regulated air flow. A 200-kPa pressure sensor is used to measure the air pressure in the accumulator.</p>
<div class="figure align-center" id="id5">
<span id="figure-gas-schematic"></span><a class="reference internal image-reference" href="../_images/new_schematic.png"><img alt="internal figure" src="../_images/new_schematic.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 23 </span><span class="caption-text">Apparatus used to measure reaeration rate.</span></p>
</div>
<p>The ProCoDA II software will be used to control the air flow rate for the aeration experiment. The software will use external code to calculate the calibration constant for the flow restriction, to control valve 1 (the air supply valve), and to regulate the flow of air into the accumulator. The calibration uses the ideal gas law to determine the flow rate as a function of the difference in pressure between the source and the accumulator. Once this calibration is obtained a separate code will set the fraction of time that valve 1 needs to be open to obtain the desired flow rate of air into the accumulator.</p>
<div class="section" id="initial-setup">
<h3>Initial Setup<a class="headerlink" href="#initial-setup" title="Permalink to this headline">¶</a></h3>
<p>Follow these steps to set up the experiment.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Assemble the apparatus.</li>
<li>Make sure that you push hard and twist to insert tubing into quick connect fittings.</li>
<li>Install the accumulator pressure sensor <a class="reference internal" href="../_images/Accumulator_pressure_sensor.jpg"><img alt="Accumulator_pressure_sensor" src="../_images/Accumulator_pressure_sensor.jpg" style="height: 45px;" /></a> so that the positive side of the sensor is connected to the accumulator. The positive side of the pressure sensor is the longer side or the side that is farthest from where the cable is attached to the sensor.</li>
<li>Use the <img alt="Open_method" src="../_images/Config_open_save_export.png" /> on the ProCoDA configuration tab (select the left open folder icon) to load the <a class="reference external" href="https://github.com/monroews/EnvEngLabTextbook/raw/master/ProCoDA/methods/Gas_Transfer_Student_method_file.pcm">method file containing the configuration necessary to control airflow</a>.</li>
<li>Plug the pressure sensor that is monitoring the flow accumulator into sensor port 0.</li>
<li>Plug the dissolved oxygen probe into sensor port 1.</li>
<li>Plug the air source valve that is connected to the flow restriction into the port labeled 2 24 V.</li>
<li>Plug the aeration valve that is upstream from the needle valve into the port labeled 3 24 V.</li>
<li>Open the accumulator bottle cap to ensure that it is at atmospheric pressure.</li>
<li>Zero the accumulator pressure sensor by selecting <img alt="config_sensors" src="../_images/config_sensors.png" />, select the accumulator pressure sensor and then select <img alt="sensor_set_to_zero" src="../_images/sensor_set_to_zero.png" />.</li>
<li>Close the accumulator bottle cap.</li>
<li>Open the air valve that provides laboratory air to your apparatus and fix any air leaks that you observe.</li>
<li>Close the needle valve (<span class="math notranslate nohighlight">\(N_2\)</span> in <a class="reference internal" href="#figure-gas-schematic"><span class="std std-numref">Fig. 23</span></a>) that is closest to the beaker by turning it clockwise.</li>
<li>Navigate to the ProCoDA Process Operation tab.</li>
<li>Set the <strong>operator selected state</strong> to toggle.  The solenoid valves should click rhythmically if they are working properly. You can hold a solenoid valve in your hand to fill it actuating. If it isn’t actuating you can test the connection where it is plugged into ProCoDA.</li>
<li>Open the needle valve, <span class="math notranslate nohighlight">\(N_2\)</span>, so that air pulses gently in your reactor and doesn’t spill any water.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="connect-to-the-shared-source-pressure-sensor">
<h3>Connect to the shared source pressure sensor<a class="headerlink" href="#connect-to-the-shared-source-pressure-sensor" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ol class="arabic simple">
<li>Navigate to the ProCoDA configuration tab and click on share data <img alt="share_data" src="../_images/Share_data.png" />.</li>
<li>Browse to the shared S drive (right below the Local Disk C), select the folder “Shared data”.</li>
<li>A shared variable called “Source pressure” should be in the tab of “Shared data from other instances of ProCoDA”. Select that variable by clicking on it. It will highlight.</li>
<li>Click on OK.</li>
<li>Select the ProCoDA Graph tab.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="check-for-air-leaks">
<h3>Check for air leaks<a class="headerlink" href="#check-for-air-leaks" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ol class="arabic simple">
<li>Fill the accumulator with air by selecting the “calibrate” state. (You may need to open needle valve <span class="math notranslate nohighlight">\(N_1\)</span>.)</li>
<li>After the accumulator is at high pressure (approximately 50 kPa or greater), then close all solenoid valves by selecting the “Off” state.</li>
<li>Check your system for air leaks by monitoring the accumulator pressure. If it drops over time, then check each tubing connection and if necessary push hard and twist to properly insert tubing into the quick connect tube fittings. If the pressure increases then the solenoid valve, <span class="math notranslate nohighlight">\(S_1\)</span>, is leaking and should be replaced.</li>
<li>If the leaking persists then check for other leaks. Possible leak sources include pipe thread connections, rough tubing ends at the instant tube fitting o-ring seal, accumulator cap, or leaking solenoid valves.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="calibrate-the-air-flow-controller">
<h3>Calibrate the air flow controller<a class="headerlink" href="#calibrate-the-air-flow-controller" title="Permalink to this headline">¶</a></h3>
<p>The purpose of this calibration step is to measure the characteristics of the flow resistor so that the rate of flow from the air supply to the flow accumulator can be predicted and controlled. The flow rate from the air source to the flow accumulator is dependent on the air source pressure, the accumulator pressure, and the flow resistance between them. The flow rate decreases as the difference in pressure decreases.</p>
<p>The calibration uses 3 states. The first state is “prepare to calibrate”. In this state the aeration valve opens and the accumulator pressure drops until it reaches the “Min calibration pressure (Pa)” which is set at 5,000 Pa. The second state is “calibrate”. In this state the aeration valve closes and the air source valve opens. This causes the flow accumulator to rapidly fill. The “calibrate” state ends when the pressure in the accumulator reaches 60% of the source pressure. The next state is a 5 second pause in which both valves are closed. Finally the system switches to aerate and uses the flow rate entered as a variable in <img alt="config_edit_rules" src="../_images/config_edit_rules.png" />. The calibration sequence creates a graph as shown in <a class="reference internal" href="#figure-airflow-calibration-graph"><span class="std std-numref">Fig. 24</span></a>. The data from the “calibrate” state is used to find the unknown term in equation <a class="reference internal" href="#equation-eq-t-fill-accumulator">(127)</a>.</p>
<div class="figure align-center" id="id6">
<span id="figure-airflow-calibration-graph"></span><a class="reference internal image-reference" href="../_images/Airflow_calibration_graph.png"><img alt="internal figure" src="../_images/Airflow_calibration_graph.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 24 </span><span class="caption-text">Graph of the airflow calibration. The initial accumulator pressure decrease is during the “prepare to calibrate” state. The accumulator fills rapidly during the “calibrate” state.</span></p>
</div>
<p>Complete the following steps.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Gently close the needle valve that is close to the air supply (<span class="math notranslate nohighlight">\(N_1\)</span>). Then open the valve about 1/8th of a turn.</li>
<li>Set up the graph in the ProCoDA Graphs tab to look similar to <a class="reference internal" href="#figure-airflow-calibration-graph"><span class="std std-numref">Fig. 24</span></a>. Note that you can select multiple data source for plotting by holding down the control key while clicking on the data to plot.</li>
<li>Set both the Accumulator pressure and the Source Pressure plots to use the same left y axis <img alt="select_y_axis_scale" src="../_images/select_y_axis_scale.png" />. Select the y axis by clicking on the plot of interest in the legend. This will make it easy to observe how the accumulator is behaving relative to the source pressure.</li>
<li>Set the mode of operation <img alt="Mode_of_operation" src="../_images/Mode_of_operation.png" /> to automatic operation and the <em>operator selected state</em> to “prepare to calibrate”. The software should quickly cycle through the calibration step and then begin attempting to control the air flow rate to the target value.  Note:  the purpose of the prepare to calibrate state is to vent excess pressure from the accumulator.  The state will not change to calibrate until the pressure drops below a predefined threshold.  To speed this up, you may open the needle valve.</li>
<li>The air slope should have a value of approximately 2 E7. To increase the air slope close the <span class="math notranslate nohighlight">\(N_1\)</span> needle valve slightly and repeat the “Calibrate” step.</li>
<li>Repeat the “Calibrate” step several times to make sure you understand what ProCoDA is doing and to confirm that the air slope <img alt="air_slope" src="../_images/air_slope.png" /> displayed on the ProCoDA “Process Operation” tab is repeatable (within about 5%). Hint: You can tell ProCoDA to go back to “prepare to calibrate” state by right clicking on that state.</li>
<li>Lock the air slope by changing it from a variable to a constant. This will prevent you from accidently losing the air slope by clicking on the calibrate state. Browse to the ProCoDA “Configuration” tab, select <img alt="config_edit_rules" src="../_images/config_edit_rules.png" />, select the variable “air slope”, and change it to a constant.  <img alt="Change_air_slope_to_constant" src="../_images/Change_air_slope_to_constant.png" /></li>
<li>Don’t adjust the <span class="math notranslate nohighlight">\(N_1\)</span> needle valve now that the air flow is calibrated.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="test-the-air-flow-controller">
<h3>Test the air flow controller<a class="headerlink" href="#test-the-air-flow-controller" title="Permalink to this headline">¶</a></h3>
<p>In the following test, the air flow controller should provide a constant flow of air into the accumulator. You can assess how well the air flow controller is working based on the slope of the pressure as a function of time. The equation for the expected change in pressure vs time can be derived from the ideal gas law.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-8">
<span class="eqno">(112)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-8" title="Permalink to this equation">¶</a></span>\[ \begin{align}\begin{aligned}PV = nRT\\P = \frac{nRT}{V}\\\Delta P = \frac{\dot{n}RT}{V}\Delta t\\P = P_{0} + \Delta P = P_{0} +\frac{\dot{n}RT}{V}\Delta t\end{aligned}\end{align} \]</div>
<p>This equation has been programming in ProCoDA as the “air fill model”. Thus you can compare the measured pressure in the accumulator and the “air fill model” to see if the flow controller is working properly.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Add the “air fill model” to the ProCoDA graph and make sure that it is using the left axis.</li>
<li>Set the air flow rate based on our calibration be navigating to the Configuration tab and selecting <img alt="config_edit_rules" src="../_images/config_edit_rules.png" />. We want to control the air flow rate, so select air flow rate from the set points and variables list. Set the air flow rate to a value of 400u (400 <span class="math notranslate nohighlight">\(\mu M/s\)</span>).</li>
<li>Begin logging data at a 1 s interval using the <img alt="config_Logging_data_short_exp" src="../_images/config_Logging_data_short_exp1.png" /> datalog button on the configuration tab. Data is being logged when the icon is green.</li>
<li>Set the <strong>operator selected state</strong> to “Prepare to test fill”</li>
<li>Watch the graph to see the accumulator pressure and air fill model increase at the same rate (hopefully).</li>
<li>End logging data when the fill cycle ends.</li>
<li>The resulting graph should look like the figure below.</li>
<li>The measured value for the final pressure at the end of the “Fill accumulator” state should be within 20% of the predicted value. You can find these values in the data log.</li>
</ol>
</div></blockquote>
<div class="figure align-center" id="id7">
<span id="figure-accumulator-fill"></span><a class="reference internal image-reference" href="../_images/Accumulator_fill.png"><img alt="ProCoDA graph of the accumulator filling" src="../_images/Accumulator_fill.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 25 </span><span class="caption-text">Graph of the accumulator filling at a flow rate of 100 <span class="math notranslate nohighlight">\(\mu M/s\)</span>. The measured values and the model are in reasonable agreement.</span></p>
</div>
</div>
<div class="section" id="install-the-membrane-cap-on-the-dissolved-oxygen-probe">
<h3>Install the Membrane Cap on the Dissolved Oxygen Probe<a class="headerlink" href="#install-the-membrane-cap-on-the-dissolved-oxygen-probe" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ol class="arabic simple">
<li>Make sure to wear gloves for these steps!</li>
<li>Use a pipette or dropper to fill the membrane cap with 0.05 N NaOH solution. Take care not to dispense air bubbles into the membrane cap. Fill the cap to within 5 mm of the top.</li>
<li>Place a beaker on the bench top below the membrane cap to catch any spilled NaOH solution.</li>
<li>Hold the cap so that it doesn’t spill and screw the probe into the cap. Some NaOH will leak out as you tighten the cap. Catch these drips in the beaker.</li>
<li>Rinse the probe with deionized water.</li>
<li>Inspect the probe carefully to see if there are any air bubbles inside the membrane. If there are any bubbles, repeat starting at step 2.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="calibrate-the-dissolved-oxygen-probe">
<h3>Calibrate the Dissolved Oxygen Probe<a class="headerlink" href="#calibrate-the-dissolved-oxygen-probe" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ol class="arabic simple">
<li>Add 750 mL of tap water to the reactor.</li>
<li>The instructor or TA will add <span class="math notranslate nohighlight">\(10\frac{ \mu g}{L}\)</span> of <span class="math notranslate nohighlight">\(CoCl_2 \cdot 6H_2O\)</span> (note this only needs to be added once because it is the catalyst). A stock solution of <span class="math notranslate nohighlight">\(100 \mu g/mL\)</span> of <span class="math notranslate nohighlight">\(CoCl_2 \cdot 6H_2O\)</span> (thus add 75 <span class="math notranslate nohighlight">\(\mu L\)</span> per 750 mL) has been prepared to facilitate measurement of small cobalt doses. (Use gloves when handling cobalt!)</li>
<li><a class="reference internal" href="../ProCoDA/ProCoDA.html#heading-procoda-dissolved-oxygen"><span class="std std-ref">Calibrate the DO probe</span></a>. Use <span class="math notranslate nohighlight">\(22^{\circ}C\)</span> as the temperature.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="measure-the-gas-transfer">
<h3>Measure the Gas Transfer<a class="headerlink" href="#measure-the-gas-transfer" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#table-air-flow-rates"><span class="std std-numref">Table 7</span></a> provides the air flow rates for each team. The data will be consolidated</p>
<span id="table-air-flow-rates"></span><table border="1" class="docutils align-center" id="id8">
<caption><span class="caption-number">Table 7 </span><span class="caption-text">Suggested flow rates.</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Group       Flows</th>
<th class="head">(<span class="math notranslate nohighlight">\(mu M/s\)</span>)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Group 1</td>
<td>100, 400, 700</td>
</tr>
<tr class="row-odd"><td>Group 2</td>
<td>125, 425, 725</td>
</tr>
<tr class="row-even"><td>Group 3</td>
<td>150, 450, 750</td>
</tr>
<tr class="row-odd"><td>Group 4</td>
<td>175, 475, 775</td>
</tr>
<tr class="row-even"><td>Group 5</td>
<td>200, 500, 800</td>
</tr>
<tr class="row-odd"><td>Group 6</td>
<td>225, 525, 825</td>
</tr>
<tr class="row-even"><td>Group 7</td>
<td>250, 550, 850</td>
</tr>
<tr class="row-odd"><td>Group 8</td>
<td>275, 575, 875</td>
</tr>
<tr class="row-even"><td>Group 9</td>
<td>300, 600, 900</td>
</tr>
<tr class="row-odd"><td>Group 10</td>
<td>325, 625, 925</td>
</tr>
<tr class="row-even"><td>Group 11</td>
<td>350, 650, 950</td>
</tr>
<tr class="row-odd"><td>Group 12</td>
<td>375, 675, 975</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Set the stirrer speed to mix the tank but not to cause a vortex that sucks bubbles into the stirrer. Then repeat the following steps for each flow rate.</dt>
<dd><ol class="first last arabic simple">
<li>Set the air flow rate in <img alt="config_edit_rules" src="../_images/config_edit_rules.png" /> to the desired flow rate.</li>
<li>Set the <strong>operator selected state</strong> to aerate.</li>
<li>Set the needle valve that is close to the beaker, <span class="math notranslate nohighlight">\(N_2\)</span>, so the pressure in the accumulator is between 20 and 50 kPa.</li>
<li>Wait until the accumulator pressure reaches steady state.</li>
<li>Turn the air off by changing the operator selected state to OFF.</li>
<li>Add enough sodium sulfite to deoxygenate the solution. It is okay if the sample doesn’t completely deoxygenate. The goal is to have less than 1.5 mg/L of oxygen at the beginning of the aeration. A stock solution of sodium sulfite (100 mg/mL) has been prepared to facilitate measurement of small sulfite doses. Calculate this dose based on the measured dissolved oxygen concentration. (see <a class="reference internal" href="#figure-sulfite"><span class="std std-numref">Fig. 22</span></a>)</li>
<li>Prepare to record the dissolved oxygen concentration using ProCoDA software. Use 5-second data intervals and log the data to <code class="docutils literal notranslate"><span class="pre">S:\Courses\4530\Group</span> <span class="pre">#\gastran\x</span></code> where x is the flow rate in <span class="math notranslate nohighlight">\(\mu M/s\)</span> for later analysis. Include the actual flow rate in the file name.</li>
<li>Turn the air on by changing the <strong>operator selected state</strong> to Aerate.</li>
<li>Monitor the dissolved oxygen concentration until it reaches 50% of saturation value or 10 minutes (whichever is shorter).</li>
<li>Repeat steps 1-9 to collect data from at least two additional flow rates which are assigned to your group in Table 8.</li>
<li>Email your data files (correctly named!) to the course email account. <strong>Warning*</strong>: Do not edit your data files collected from ProCODA. This will cause issues when it comes time to analyze the data.</li>
<li>Answer the questions in the section on <a class="reference internal" href="#heading-gas-transfer-lab-explorations"><span class="std std-ref">Lab Explorations</span></a>.</li>
</ol>
</dd>
</dl>
</div>
</div>
<div class="section" id="lab-explorations">
<span id="heading-gas-transfer-lab-explorations"></span><h2>Lab Explorations<a class="headerlink" href="#lab-explorations" title="Permalink to this headline">¶</a></h2>
<p>This lab exercise introduces the use of computer control as well as some interesting hydraulics. These questions are designed to help you think through everything that is happening in this lab. Include a discussion of these questions in the laboratory report.</p>
<p>The ProCoDA method that you used in this lab has two programs that cause ProCoDA to switch between states and change what it is doing. Explore the rule editor, <img alt="config_edit_rules" src="../_images/config_edit_rules.png" />, to figure out answers to the following questions.</p>
<ol class="arabic simple">
<li>Under what condition does ProCoDA switch from the “prepare to calibrate” state to the “calibrate” state?</li>
<li>Under what condition does ProCoDA switch from the “calibrate” state to the “Pause” state?</li>
<li>How does the “Pause” state know which state to go to next?</li>
<li>What is the equation that is used to calculate the maximum calibration pressure and why is this equation better than using a constant for the maximum calibration pressure?</li>
<li>Explain how ProCoDA calculates the predicted pressure in the accumulator when it is filled at a constant mass flow rate.</li>
<li>What are the inputs to the “air valve control”?</li>
<li>What does “air valve control” control and which two states use it?</li>
<li>Write a ProCoDA program that cycles between two states that aerate for 15 s and then pause for 10 s. Show the TA!</li>
</ol>
</div>
<div class="section" id="prelab-questions">
<span id="heading-gas-transfer-pre-laboratory-questions"></span><h2>Prelab Questions<a class="headerlink" href="#prelab-questions" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic simple">
<li>Calculate the mass of sodium sulfite needed to reduce all the dissolved oxygen in 750 mL of pure water in equilibrium with the atmosphere and at <span class="math notranslate nohighlight">\(22^\circ C\)</span>.</li>
<li>Describe your expectations for dissolved oxygen concentration as a function of time during a reaeration experiment.  Assume you have added enough sodium sulfite to consume all of the oxygen at the start of the experiment. What would the shape of the curve look like?</li>
<li>Why is <span class="math notranslate nohighlight">\(\hat{k}_{v,l}\)</span> not zero when the gas flow rate is zero? How can oxygen transfer into the reactor even when no air is pumped into the diffuser?</li>
<li>Describe your expectations for <span class="math notranslate nohighlight">\(\hat{k}_{v,l}\)</span> as a function of gas flow rate. Do you expect a straight line? Why?</li>
<li>A dissolved oxygen probe was placed in a small vial in such a way that the vial was sealed. The water in the vial was sterile. Over a period of several hours the dissolved oxygen concentration gradually decreased to zero. Why? (You need to know how dissolved oxygen probes work!)</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="data-analysis">
<span id="heading-gas-transfer-data-analysis"></span><h2>Data Analysis<a class="headerlink" href="#data-analysis" title="Permalink to this headline">¶</a></h2>
<p>This lab will use the power of python to streamline repetitive data analysis. Use the data from the entire class for the analysis. You can use for loops to cycle through all of the data sets.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Eliminate the data from each data set when the dissolved oxygen concentration was less than 2 mg/L. This will ensure that all of the sulfite has reacted. Also remove the data when the dissolved oxygen concentration was greater than 6 mg/L to reduce the effect of measurement errors when the oxygen deficit is small.</li>
<li>Plot a representative subset of the data showing dissolved oxygen vs. time. Perhaps show 5 plots on one graph.</li>
<li>Calculate <span class="math notranslate nohighlight">\(C^{\star}\)</span> based on the average water temperature, barometric pressure, and the equation from <a class="reference external" href="https://github.com/AguaClara/aguaclara/blob/master/aguaclara/research/environmental_processes_analysis.py">environmental processes</a> analysis called O2_sat. <span class="math notranslate nohighlight">\(C^{\star} =P_{O_{2}} {\mathop{e}\nolimits^{\left(\frac{1727}{T} -2.105\right)}}\)</span> where T is in Kelvin, <span class="math notranslate nohighlight">\(P_{O_{2} }\)</span> is the partial pressure of oxygen in atmospheres, and <span class="math notranslate nohighlight">\(C^{\star}\)</span> is in mg/L.</li>
<li>Estimate <span class="math notranslate nohighlight">\(\hat{k}_{v,l}\)</span> using linear regression and equation <a class="reference internal" href="#equation-eq-gas-linearized">(103)</a> for each data set.</li>
<li>Create a graph with a representative plot showing the model curve (as a smooth curve) and the data from one experiment. You will need to derive the equation for the concentration of oxygen as a function of time based on equation <a class="reference internal" href="#equation-eq-gas-linearized">(103)</a>.</li>
<li>Plot <span class="math notranslate nohighlight">\(\hat{k}_{v,l}\)</span> as a function of airflow rate (<span class="math notranslate nohighlight">\(\mu mole/s\)</span>).</li>
<li>Plot OTE as a function of airflow rate (?mole/s) with the oxygen deficit (<span class="math notranslate nohighlight">\(C^{\star} -C\)</span>) set at 6 mg/L.</li>
<li>Comment on the oxygen transfer efficiency and the trend or trends that you observe.</li>
<li>Propose a change to the experimental apparatus that would increase the efficiency.</li>
<li>Verify that your report and graphs meet the requirements.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="references">
<span id="heading-gas-transfer-references"></span><h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Weber, W. J. J. and F. A. Digiano. 1996. Process Dynamics in Environmental Systems. New York, John Wiley &amp; Sons, Inc.Zander, A. K.; M. J. Semmens and R. M. Narbaitz. 1989. <strong>Removing VOCs by membrane stripping</strong> American Water Works Association Journal 81: 76-81.</div></blockquote>
</div>
<div class="section" id="lab-prep-notes">
<span id="heading-gas-transfer-lab-prep-notes"></span><h2>Lab Prep Notes<a class="headerlink" href="#lab-prep-notes" title="Permalink to this headline">¶</a></h2>
<span id="table-gas-reagent-list"></span><table border="1" class="colwidths-given docutils align-center" id="id9">
<caption><span class="caption-number">Table 8 </span><span class="caption-text">Reagent list.</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Description</th>
<th class="head">Supplier</th>
<th class="head">Catalog number</th>
<th class="head">Concentration</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><span class="math notranslate nohighlight">\(Na_2SO_3\)</span></td>
<td>Fisher Scientific</td>
<td>S430-500</td>
<td>100 g/L</td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(CoCl_2 \cdot 6H_2O\)</span></td>
<td>Fisher Scientific</td>
<td>C371-100</td>
<td>100 mg/L</td>
</tr>
<tr class="row-even"><td><span class="math notranslate nohighlight">\(NaOH\)</span></td>
<td>VWR</td>
<td>pending</td>
<td>0.05 N = 2 g/L</td>
</tr>
</tbody>
</table>
<div class="section" id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ol class="arabic simple">
<li>Prepare the sodium sulfite immediately before class and distribute to groups in 15 mL PP bottles to minimize oxygen dissolution and reaction with the sulfite.</li>
<li>The cobalt solution can be prepared anytime and stored long term.</li>
<li>Install the membranes on the DO probes and confirm that all probes are operational.</li>
<li>Provide clamps to mount DO probes on magnetic stirrers.</li>
<li>Determine maximum airflow rate that is reasonable given small reactor volume.</li>
<li>Configure the TA workstation to be measuring the source air pressure and sharing it using this <a class="reference external" href="https://github.com/monroews/EnvEngLabTextbook/raw/master/ProCoDA/methods/Gas_Transfer_TAbench_method_file.pcm">ProCoDA method</a>.</li>
<li>Verify that the source air pressure is between 10 and 20 kPa. The regulator is in the lab and can be adjusted.</li>
</ol>
</div></blockquote>
</div>
</div>
<div class="section" id="clean-up">
<h2>Clean up<a class="headerlink" href="#clean-up" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>DO Probe: unscrew the cap from the probe and wash the electrodes core (cathode: platinum, anode: lead) and the cap with deionized water. Dry all the components with tissue. Screw the cap back to the probe without adding any filling solution to prevent the anode from being consumed. Put all the components back into the package.</li>
<li>Pore water used for aeration into container designated by the TA. We collect this water because of the cobalt contamination.</li>
<li>Do <strong>not disassemble the aeration system</strong>. Rinse it, dry it and keep it as one unit and place in storage at your workstation.</li>
</ol>
</div>
<div class="section" id="airflow-control">
<span id="heading-gas-transfer-airflow-control"></span><h2>Airflow Control<a class="headerlink" href="#airflow-control" title="Permalink to this headline">¶</a></h2>
<p>The ProCoDA software can be configured to control the flow of air into the reactor. The hardware required is shown in <a class="reference internal" href="#figure-gas-schematic"><span class="std std-numref">Fig. 23</span></a>. The control algorithm is based on the theoretical relationship between head loss and flow rate for the air flowing into the accumulator. We can empirically measure the head loss coefficient and then use the theoretical relationship to determine what fraction of time the influent valve should be open to obtain the desired flow rate. We can use the change in pressure in the accumulator when the influent valve is open to determine how fast air was flowing into the accumulator. In order to develop an appropriate head loss model we need to know if the flow into the accumulator is laminar or turbulent.</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-re">
<span class="eqno">(113)<a class="headerlink" href="#equation-eq-gas-re" title="Permalink to this equation">¶</a></span>\[ {Re}=\frac{\rho VD}{\mu }\]</div>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-9">
<span class="eqno">(114)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-9" title="Permalink to this equation">¶</a></span>\[{Re}=\frac{4\rho Q}{\pi d\mu }\]</div>
<p>If we hold pressure and temperature constant and then take the derivative of the ideal gas law we obtain.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-10">
<span class="eqno">(115)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-10" title="Permalink to this equation">¶</a></span>\[P\rlap{--}\dot{V}=\dot{n}RT\]</div>
<p>and since change in volume with respect to time is a flow rate we have</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-qair">
<span class="eqno">(116)<a class="headerlink" href="#equation-eq-gas-qair" title="Permalink to this equation">¶</a></span>\[ Q=\frac{\dot{n}RT}{P}\]</div>
<p>Density of an ideal gas is given by</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-density">
<span class="eqno">(117)<a class="headerlink" href="#equation-eq-gas-density" title="Permalink to this equation">¶</a></span>\[ \rho =\frac{PM_{gas} }{RT}\]</div>
<p>Substituting these relationships into equation <a class="reference internal" href="#equation-eq-gas-re">(113)</a> for Reynolds number we obtain</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-11">
<span class="eqno">(118)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-11" title="Permalink to this equation">¶</a></span>\[{Re}=\frac{4\dot{n}M_{gas} }{\pi d\mu }\]</div>
<p>For the air flow controller used in the lab the following values are obtained</p>
<blockquote>
<div><span class="math notranslate nohighlight">\(\dot{n}\)</span> max flow is about 10,000 <span class="math notranslate nohighlight">\(\mu M/s\)</span> <span class="math notranslate nohighlight">\(M_{gas}\)</span> is 0.029 kg/M, and <span class="math notranslate nohighlight">\(\mu\)</span> is <span class="math notranslate nohighlight">\(1.8 x 10^{-5} Ns/m^2\)</span>.</div></blockquote>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-12">
<span class="eqno">(119)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-12" title="Permalink to this equation">¶</a></span>\[{Re}=\frac{4\left(10000\times 10^{-6} \frac{M}{s} \right)\left(0.029\frac{kg}{M} \right)}{\pi \left(1\times 10^{-3} m\right)\left(1.8\times 10^{-5} \frac{N\cdot s}{m^{2} } \right)} =20,500\]</div>
<p>The flow into the air accumulator will almost certainly be turbulent. In any case, we can use the turbulent flow equations for minor losses to describe head loss. The equation for minor losses is:</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-minor-losses">
<span class="eqno">(120)<a class="headerlink" href="#equation-eq-gas-minor-losses" title="Permalink to this equation">¶</a></span>\[ h_{minor} =K\frac{8Q^{2} }{g\pi ^{2} D^{4} }\]</div>
<p>To use equation <a class="reference internal" href="#equation-eq-gas-minor-losses">(120)</a> for air we substitute pressure change for <span class="math notranslate nohighlight">\(h_{minor}\)</span>, equation <a class="reference internal" href="#equation-eq-gas-qair">(116)</a> for flow rate, and equation <a class="reference internal" href="#equation-eq-gas-density">(117)</a> for density.</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-minor-losses-for-gas">
<span class="eqno">(121)<a class="headerlink" href="#equation-eq-gas-minor-losses-for-gas" title="Permalink to this equation">¶</a></span>\[ \Delta p=K\frac{8M_{gas} RT\dot{n}^{2} }{\pi ^{2} D^{4} P}\]</div>
<p>This change of pressure is occurring between the air supply and the accumulator. The pressure, P, in equation <a class="reference internal" href="#equation-eq-gas-minor-losses-for-gas">(121)</a> helps determine the velocity of the air and thus head loss is a function of the pressure. The pressure varies between the pressure of the lab air supply, <span class="math notranslate nohighlight">\(P_s\)</span>, and the pressure in the air accumulator, <span class="math notranslate nohighlight">\(P_a\)</span>. As a reasonable first approximation we use the average pressure of the supply and the accumulator for P, the difference in pressure for <span class="math notranslate nohighlight">\(\Delta p\)</span>, and solve equation <a class="reference internal" href="#equation-eq-gas-minor-losses-for-gas">(121)</a> for the molar flow rate.</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-molar-flow-of-air">
<span class="eqno">(122)<a class="headerlink" href="#equation-eq-gas-molar-flow-of-air" title="Permalink to this equation">¶</a></span>\[ \dot{n}=\frac{\pi D^{2} }{4\sqrt{KM_{gas} RT} } \sqrt{\left(P_{s} -P_{a} \right)\left(P_{s} +P_{a} \right)}\]</div>
<p>where <span class="math notranslate nohighlight">\(\dot{n}\)</span> is the molar flow rate.</p>
<p>Multiplying terms and noting that the supply pressure is relatively constant, but that the accumulator pressure varies as it charges according to the ideal gas law we obtain.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-13">
<span class="eqno">(123)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-13" title="Permalink to this equation">¶</a></span>\[\frac{dn}{dt} =\frac{\pi D^{2} }{4\sqrt{KM_{gas} RT} } \sqrt{P_{s}^{2} -\frac{n^{2} R^{2} T^{2} }{V^{2} } }\]</div>
<p>Separating terms and integrating from an initial condition with <span class="math notranslate nohighlight">\(n_0\)</span> moles to a final condition with <span class="math notranslate nohighlight">\(n\)</span> moles in the accumulator.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-14">
<span class="eqno">(124)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-14" title="Permalink to this equation">¶</a></span>\[\frac{\rlap{--}V}{RT} \int _{n_{0} }^{n }\frac{dn}{\sqrt{\frac{P_{s}^{2} V^{2} }{R^{2} T^{2} } -n^{2} } }  =\int _{0}^{t}\frac{\pi D^{2} }{4\sqrt{KM_{gas} RT} } dt\]</div>
<p>After integrating we obtain the following equation.</p>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-15">
<span class="eqno">(125)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-15" title="Permalink to this equation">¶</a></span>\[\frac{\rlap{--}V}{RT} \left(\sin ^{-1} \frac{n RT}{P_{s} V} -\sin ^{-1} \frac{n_{0} RT}{P_{s} V} \right)=\frac{\pi D^{2} t}{4\sqrt{KM_{gas} RT} }\]</div>
<div class="math notranslate nohighlight" id="equation-gas-transfer-gas-transfer-16">
<span class="eqno">(126)<a class="headerlink" href="#equation-gas-transfer-gas-transfer-16" title="Permalink to this equation">¶</a></span>\[t=\frac{4\sqrt{KM_{gas} RT} }{\pi D^{2} } \left(\sin ^{-1} \frac{n RT}{P_{s} V} -\sin ^{-1} \frac{n_{0} RT}{P_{s} V} \right)\frac{\rlap{--}V}{RT}\]</div>
<p>Since we will be measuring the pressure in the accumulator we can now substitute that pressure for the terms containing moles of air to obtain an equation that is in a linear form such that a single term containing K and D can be obtained by linear regression.</p>
<div class="math notranslate nohighlight" id="equation-eq-t-fill-accumulator">
<span class="eqno">(127)<a class="headerlink" href="#equation-eq-t-fill-accumulator" title="Permalink to this equation">¶</a></span>\[ t=\frac{4\sqrt{KM_{gas} RT} }{\pi D^{2} } \left(\sin ^{-1} \frac{P_{a } }{P_{s} } -\sin ^{-1} \frac{P_{a_{0} } }{P_{s} } \right)\frac{\rlap{--}V}{RT}\]</div>
<p>Taking a data set obtained by filling the accumulator, finding the unknown term <span class="math notranslate nohighlight">\(\frac{4\sqrt{KM_{gas} RT} }{\pi D^{2} }\)</span> by linear regression and then plotting the resulting model next to the data we obtain <a class="reference internal" href="#figure-airflow-controller-calibration"><span class="std std-numref">Fig. 26</span></a>.</p>
<div class="figure align-center" id="id10">
<span id="figure-airflow-controller-calibration"></span><a class="reference internal image-reference" href="../_images/Airflow_controller_calibration.png"><img alt="airflow controller calibration" src="../_images/Airflow_controller_calibration.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 26 </span><span class="caption-text">The model describing the filling of the accumulator fits the data very well.</span></p>
</div>
<p>The final step is to calculate the fraction of time that the valve must be open in order to obtain a desired flow rate into the accumulator. Take the target air flow rate <span class="math notranslate nohighlight">\(\dot{n}_{target}\)</span> and divide by the molar flow rate given by equation <a class="reference internal" href="#equation-eq-gas-molar-flow-of-air">(122)</a> to get the fraction of time the valve must be open to get the desired average flow rate.</p>
<div class="math notranslate nohighlight" id="equation-eq-gas-fvalve">
<span class="eqno">(128)<a class="headerlink" href="#equation-eq-gas-fvalve" title="Permalink to this equation">¶</a></span>\[ f_{valve} =\frac{\dot{n}_{t\arg et} }{\dot{n}} =\frac{\dot{n}_{t\arg et} }{\frac{\pi D^{2} }{4\sqrt{KM_{gas} RT} } \sqrt{P_{s}^{2} -P_{a}^{2} } }\]</div>
<p>Equation <a class="reference internal" href="#equation-eq-gas-fvalve">(128)</a> assumes that inertial effects during flow startup are not significant. Application of equation <a class="reference internal" href="#equation-eq-gas-fvalve">(128)</a> results in slightly more air being delivered than requested. The reason for this error is that when the valve is closed the volume between the location of the head loss and the valve fills to the pressure of the source. This volume of air quickly discharges through the valve as soon as the valve is opened. This error can be minimized by using small valves and by keeping the head loss orifice as close to the valve as possible.</p>
<p>Equation <a class="reference internal" href="#equation-eq-gas-fvalve">(128)</a> is used by the air flow control.vi to calculate the fraction of time that the valve should be open. The ability of the control algorithm to create a desired flow rate can be measured by setting the flow rate and closing the effluent valves from the accumulator. The result is that the accumulator will gradually fill and as it fills <span class="math notranslate nohighlight">\(f_{valve}\)</span> will gradually increase so the flow rate into the accumulator remains constant. The slope of the pressure vs. time line is proportional to the flow rate.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Nutrient_Removal/Nutrient_Removal.html" class="btn btn-neutral float-right" title="Nutrient Removal with Sequencing Batch Reactors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Adsorption/Adsorption.html" class="btn btn-neutral" title="Adsorption" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Monroe Weber-Shirk.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/mathjax_config.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>